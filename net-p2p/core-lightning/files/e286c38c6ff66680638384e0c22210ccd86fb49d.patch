--- /var/cache/distfiles/e286c38c6ff66680638384e0c22210ccd86fb49d.patch	2023-04-16 22:39:57.154665230 -0400
+++ /var/tmp/portage/net-p2p/core-lightning-0.12.1-r106/temp/e286c38c6ff66680638384e0c22210ccd86fb49d.patch	2023-04-16 22:42:05.247913970 -0400
@@ -46,16 +46,6 @@
  	else
  		db_bind_null(stmt, 45);
  
-@@ -4393,8 +4393,7 @@ static bool wallet_forwarded_payment_update(struct wallet *w,
- 	else
- 		db_bind_int(stmt, 5, forward_style_in_db(forward_style));
- 	db_bind_u64(stmt, 6, in->key.id);
--	db_bind_u64(stmt, 7,
--		    channel_scid_or_local_alias(in->key.channel)->u64);
-+	db_bind_scid(stmt, 7, channel_scid_or_local_alias(in->key.channel));
- 	db_exec_prepared_v2(stmt);
- 	changed = db_count_changes(stmt) != 0;
- 	tal_free(stmt);
 @@ -4454,10 +4453,10 @@ void wallet_forwarded_payment_add(struct wallet *w, const struct htlc_in *in,
  	 * the sender used to specify the channel, but that's under
  	 * control of the remote end. */
@@ -88,9 +78,9 @@
  		// any out_channel
  		db_bind_int(stmt, 4, 1);
 @@ -4624,11 +4623,10 @@ const struct forwarding *wallet_forwarded_payments_get(struct wallet *w,
+ 			cur->payment_hash = NULL;
+ 		}
  
- 		/* FIXME: This now requires complex join to determine! */
- 		cur->payment_hash = NULL;
 -		cur->channel_in.u64 = db_col_u64(stmt, "in_channel_scid");
 +		db_col_scid(stmt, "in_channel_scid", &cur->channel_in);
  
